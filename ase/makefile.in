#
# $Id: makefile.in,v 1.20 2007-04-09 02:57:45 bacon Exp $
#


LIBDIRS = cmn utl awk lsp 
MODE = @BUILDMODE@
LIBTOOL_DEPS = @LIBTOOL_DEPS@

all: libs #incs

incs:
	@for i in $(LIBDIRS); \
	do \
		if [ ! -d $$i ]; \
		then \
			echo Error: $$i not a directory; \
			exit 1; \
		fi; \
		cd $$i; \
		if make inc;  \
		then \
			echo > /dev/null; \
		else \
			exit 1; \
			fi; \
		cd ..; \
	done

libs:
	@for i in $(LIBDIRS); \
	do \
		if [ ! -d $$i ]; \
		then \
			echo Error: $$i not a directory; \
			exit 1; \
		fi; \
		cd $$i; \
		if make lib;  \
		then \
			echo > /dev/null; \
		else \
			exit 1; \
			fi; \
		cd ..; \
	done

clean:
	@for i in $(LIBDIRS); \
	do \
		if [ ! -d $$i ]; \
		then \
			echo Error: $$i not a directory; \
			exit 1; \
		fi; \
		cd $$i; \
		if make $@; \
		then \
			echo > /dev/null; \
		else \
			exit 1; \
			fi; \
		cd ..; \
	done

