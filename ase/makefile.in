#
# $Id: makefile.in,v 1.16 2007-03-25 15:02:54 bacon Exp $
#


LIBDIRS=cmn awk lsp utl
MODE=@BUILDMODE@

all: libs incs

incs:
	@for i in $(LIBDIRS); \
	do \
		if [ ! -d $$i ]; \
		then \
			echo Error: $$i not a directory; \
			exit 1; \
		fi; \
		cd $$i; \
		if make inc;  \
		then \
			echo > /dev/null; \
		else \
			exit 1; \
			fi; \
		cd ..; \
	done

libs:
	@for i in $(LIBDIRS); \
	do \
		if [ ! -d $$i ]; \
		then \
			echo Error: $$i not a directory; \
			exit 1; \
		fi; \
		cd $$i; \
		if make lib;  \
		then \
			echo > /dev/null; \
		else \
			exit 1; \
			fi; \
		cd ..; \
	done

clean:
	@for i in $(LIBDIRS); \
	do \
		if [ ! -d $$i ]; \
		then \
			echo Error: $$i not a directory; \
			exit 1; \
		fi; \
		cd $$i; \
		if make $@; \
		then \
			echo > /dev/null; \
		else \
			exit 1; \
			fi; \
		cd ..; \
	done
