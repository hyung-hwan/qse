#
# $Id: makefile.in,v 1.17 2007-03-25 15:02:54 bacon Exp $
#

CC = @CC@
CFLAGS = @CFLAGS@ -I@abs_top_builddir@/.. 
LDFLAGS = @LDFLAGS@ -L@abs_top_builddir@/@BUILDMODE@/lib
LIBS = @LIBS@ -laseawk -lasecmn -laseutl -lm
MODE = @BUILDMODE@

OUT_DIR = ../../$(MODE)/bin

all: $(OUT_DIR)/aseawk $(OUT_DIR)/miniawk

$(OUT_DIR)/aseawk: $(OUT_DIR)
	$(CC) $(CFLAGS) -o $@ awk.c $(LDFLAGS) $(LIBS)

$(OUT_DIR)/miniawk: $(OUT_DIR)
	$(CC) $(CFLAGS) -o $@ mini.c $(LDFLAGS) $(LIBS)

$(OUT_DIR):
	mkdir -p $(OUT_DIR)

clean:
	rm -rf $(OUT_DIR)/aseawk $(OUT_DIR)/miniawk

